<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

	<!-- Material Design for Bootstrap fonts and icons -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">

	<!-- Material Design for Bootstrap CSS -->
     <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">
     

    <title>Página do Usuário</title>
	</head>
     
     <style>
          fieldset {
               background-color: #eeeeee;
          }

          legend {
               background-color: gray;
               color: white;
               padding: 5px 10px;
          }
          input{
               box-shadow: 0 0 0 0 !important;
          }
     </style>

     <body onload="myFunction()">

          <form id="cadastrarLivro" style="margin: 30px 30px 0 30px;">
               <fieldset>
                    <legend>Cadastro de Livros:</legend>
                    <div class="form-group bmd-form-group">
                    <label for="formGroupExampleInput2" style="color: black;" class="bmd-label-floating">Titulo *</label>
                    <input type="text" class="form-control" id="tituloInformado">
                    </div>
                    <div class="form-row">
                    <div class="form-group col-md-6">
                    <label for="exampleInputEmail2" class="bmd-label-floating" style="color: black;">Autor *</label>
                    <input type="text"class="form-control" id="autorInformado">
                    </div>
                    <div class="form-group col-md-6">
                         <label for="exampleInputEmail2" class="bmd-label-floating" style="color: black;">Editora *</label>
                         <input type="text" class="form-control" id="editoraInformado">
                    </div>
                    </div>
                    <div class="form-row">
                         <div class="form-group col-md-6">
                         <label for="exampleInputEmail2" style="color: black;">Ano de Publicação *</label>
                         <input type="date" class="form-control" id="anoPublicacaoInformado">
                         </div>
                         <div class="form-group col-md-6">
                              <label for="exampleInputName2" class="bmd-label-floating" style="color: black">Genero *</label>
                              <input type="text" class="form-control" id="generoInformado">
                         </div>
                    </div>
                    <div align="center">
                         <button type="button" class="btn btn-primary btn-raised" data-dismiss="modal">Editar</button>
                         <button type="submit" class="btn btn-secondary btn-raised">Cadastrar</button>
                    </div>
               </fieldset>
          </form>

          <table class="table table-striped table-dark" style="margin-top: 20px; margin-left: 30px !important; margin-right: 30px !important">
		  <thead class="thead-dark">
		    <tr>
		      <th scope="col">Título</th>
		      <th scope="col">Autor</th>
		      <th scope="col">Editora</th>
		      <th scope="col">Ano de Públicação</th>
		      <th scope="col">Gênero</th>
		    </tr>
		  </thead>
		  <tbody id="list">
		  	<tr class="item">
		    </tr>
		  </tbody>
		</table>

     <script type="text/javascript">
          let btn = document.querySelector("#btn");
     		let list = document.querySelector("#list");

     		function myFunction() {

     		fetch('http://localhost:8080/api/13/livros', {
          	method: 'GET',
			supportHeaderParams: true,
			headers: {
				'Accept': 'application/json',
				'Content-Type': 'application/json'
			}
          	})
    		.then(response => response.json())
		    .then(data => {
		        data.forEach(function (tb_users) {
                   let item = document.createElement("td");
                   let item2 = document.createElement("td");
                   let item3 = document.createElement("td");
                   let item4 = document.createElement("td");
                   let item5 = document.createElement("td");
                   
                   item.classList.add("item");
                   
                   	item.innerHTML =	'<span>'+tb_users.titulo+'</span>';
                   	item2.innerHTML =	'<span>'+tb_users.autor+'</span>';
                   	item3.innerHTML =	'<span>'+tb_users.editora+'</span>';
                   	item4.innerHTML =	'<span>'+tb_users.anoPublicacao+'</span>';
                   	item5.innerHTML =	'<span>'+tb_users.genero+'</span>';

                   list.appendChild(item);
                   list.appendChild(item2);
                   list.appendChild(item3);
                   list.appendChild(item4);
                   list.appendChild(item5);
               });
    		});
    		};

   //   	btn.addEventListener('click', function(){
   //   	  debugger;
   //        fetch('http://localhost:8080/api/13/livros', {
   //        	method: 'GET',
			// supportHeaderParams: true,
			// headers: {
			// 	'Accept': 'application/json',
			// 	'Content-Type': 'application/json'
			// }
   //        })
   //        .then(function (response) {
   //             return response.json()
   //        })
   //        .then(function (response) {
   //        	alert(response.response)
   //             response.data.forEach(function (tb_users) {
   //                 let item = document.createElement("li");
                   
   //                 item.classList.add("item");
                   
   //                 item.innerHTML = '<span>'+tb_users.nome+'</span>';

   //                 list.appendChild(item);
   //             });
   //        })
   //   });
     </script>

   <!--   <script type="text/javascript" src="js/validacaoUsuario.js"></script>
     <script type="text/javascript" src="js/cadastrarLivro.js"></script> -->

     <!-- Optional JavaScript -->
     <!-- jQuery first, then Popper.js, then Bootstrap JS -->
     <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js" integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U" crossorigin="anonymous"></script>
	<script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js" integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9" crossorigin="anonymous"></script>
	<script>$(document).ready(function() { $('body').bootstrapMaterialDesign(); });</script>

</body>
</html>